<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page 2</title>
    <link rel="stylesheet" href="/css/navBar.css">
    <link rel="stylesheet" href="/css/page2.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <header>
        <a href="./page1.html">Movie Browser</a>
        <div class="search-container">
            <input type="text" id="search-box" placeholder="Search for a movie..." oninput="searchMovie()">
        </div>
    </header>

    <div id="movie-card-container">
        <!-- Movie card will be dynamically inserted here -->
    </div>

    <script>
        // Function to search for movie
        function searchMovie() {
            const searchQuery = document.getElementById('search-box').value.toLowerCase();
            const movieCardContainer = document.getElementById('movie-card-container');
            movieCardContainer.innerHTML = ""; // Clear previous results

            // Get movie data from localStorage
            const movieData = JSON.parse(localStorage.getItem(searchQuery));

            if (movieData) {
                // Movie found, create the card dynamically
                const cardHtml = `
                    <div class="card" style="width: 15rem;">
                        <img src="${movieData.image}" class="card-img-top" alt="${movieData.title}">
                        <div class="card-body">
                            <h5 class="card-title">${movieData.title}</h5>
                            <p class="card-text">${movieData.description}</p>
                            <a href="#" class="btn btn-primary">Go somewhere</a>
                        </div>
                    </div>
                `;
                movieCardContainer.innerHTML = cardHtml;
            } else {
                // Movie not found, show message
                movieCardContainer.innerHTML = "<p>No movie found</p>";
            }
        }

        // Example: Storing movie data in localStorage (this can be done when you save the movie)
        function storeMovieData(title, image, description) {
            const movie = {
                title: title,
                image: image,
                description: description
            };
            localStorage.setItem(title.toLowerCase(), JSON.stringify(movie)); // Save with lowercase title as the key
        }

        // Example to store a movie (you can comment this out in production)
        storeMovieData("Inception", "https://image.tmdb.org/t/p/w500/qaAZlw60B6cJAXpFlT5f4XjdpJI.jpg", "A mind-bending thriller by Christopher Nolan.");
    </script>
</body>
</html>
